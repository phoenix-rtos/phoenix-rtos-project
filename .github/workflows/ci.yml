# vim:sw=2:ts=2
name: ci

on:
  push:
    branches:
      - master
      - 'feature/*'
  pull_request:
    branches:
      - master
      - 'feature/*'

jobs:
  call-ci:
    strategy:
      matrix:
        libphoenix_nopic: ['y', 'n']
        run: [1, 2, 3, 4, 5]
    name: LIBPHOENIX_NOPIC ${{ matrix.libphoenix_nopic }} RUN ${{ matrix.run }}
    uses: phoenix-rtos/phoenix-rtos-project/.github/workflows/ci-project.yml@badochov/PIC
    with:
      nightly: true
      build_params: all tests
      libphoenix_nopic: ${{ matrix.libphoenix_nopic }} 
    secrets: inherit
